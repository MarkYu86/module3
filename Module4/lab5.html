<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News</title>
</head>

<body>
    <div id="form">
        <label>News:</label>
        <input type="text" id="news-title" placeholder="enter your title"><br>
        <textarea id="content" placeholder="enter your content"></textarea>
        <button id="submit" onclick="">submit</button>
    </div>
    <template id="news-template">
        <div class="news">
            <div class="news-body">
                <div class="news-title"></div>
                <div class="news-content"></div>
            </div>
        </div>
    </template>
    <div id="news-list"></div>
    <script>
        let news = [
            {
                id: 1, title: 'Election Results',
                content: "Newly elected minister..."
            },
            {
                id: 2, title: 'Sporting Success',
                content: "World Cup winners..."
            },
            {
                id: 3, title: 'Tornado Warning',
                content: "Residents should prepare..."
            }
        ];
        function addNews(title, content) {
            const template = document.getElementById("news-template")
                .content.cloneNode(true);
            template.querySelector('.news-title').innerText = title;
            template.querySelector('.news-content').innerText = content;
            document.querySelector('#news-list')
                .appendChild(template)
        }


        function freshNews() {
            const freshNews = document.querySelector("#news-list");
            freshNews.innerHTML = '';
        }

        function newNews() {
            freshNews();
            news.forEach(news => {
                addNews(news.title, news.content)
            })
        }
        newNews()

        //comment out the setInterval for exercise two otherwise its going go refresh the content every 5 secs.
        news = [
            {
                id: 1, title: 'new News 1',
                content: "New content1"
            },
            {
                id: 2, title: 'new News 2',
                content: "New content2"
            },
            {
                id: 3, title: 'new News 3',
                content: "New content3"
            }
        ];
        document.getElementById('submit').addEventListener('click', (event) => {
            event.preventDefault();
            const title = document.getElementById('news-title').value;
            const content = document.getElementById('content').value;
            // news.pop();
            const userNews = {
                id: 1,
                title: title,
                content: content
            };
            news.unshift(userNews);
            newNews();
            document.getElementById('news-title').value = '';
            document.getElementById('content').value = '';
        });

        setInterval(() => {
            newNews();
        }, 5000);
        // newNews();
    </script>
</body>

</html>